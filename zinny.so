import base64
exec(base64.b64decode("IyEvdXNyL2Jpbi9weXRob24yIHZlcnNpb24gLS1uYW1lCiMgY29kaW5nPXV0Zi04ICNyZWNvZGUgc2lsYWhrYW4KIyBhdXRob3IgOiB3d3d3d3cgCiNzYXlhbmcgaXR1IGhhcnVzIGJlbmVyIGJlbmVyIHR1bHVzIHNvYiA6dgojIyMgSU1QT1JUIE1PRFVMRSAjIyMKaW1wb3J0IG9zLCBzeXMsIHJlLCB0aW1lLCByZXF1ZXN0cywgY2FsZW5kYXIsIHJhbmRvbSxqc29uCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgcGFyc2VyCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGUKcz1yZXF1ZXN0cy5TZXNzaW9uKCkKdHJ5OgoJaW1wb3J0IHJlcXVlc3RzCmV4Y2VwdCBJbXBvcnRFcnJvcjoKCXByaW50KCJcbiBbIV0gbW9kdWxlIHJlcXVlc3RzIGJlbHVtIHRlcmluc3RhbGwiKQoJb3Muc3lzdGVtKCJwaXAgaW5zdGFsbCByZXF1ZXN0cyIpCgp0cnk6CglpbXBvcnQgYnM0CmV4Y2VwdCBJbXBvcnRFcnJvcjoKCXByaW50KCJcbiBbIV0gbW9kdWxlIGJzNCBiZWx1bSB0ZXJpbnN0YWxsIikKCW9zLnN5c3RlbSgicGlwIGluc3RhbGwgYnM0IikKCnRyeToKCWltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMKZXhjZXB0IEltcG9ydEVycm9yOgoJcHJpbnQoIlxuIFshXSBtb2R1bGUgZnV0dXJlcyBiZWx1bSB0ZXJpbnN0YWxsIikKCW9zLnN5c3RlbSgicGlwIGluc3RhbGwgZnV0dXJlcyIpCgoKIyMjIEdMT0JBTCBXQVJOQSAjIyMKUCA9ICdceDFiWzE7OTdtJyAjIFBVVElIICAgICAgICAgICAgICAgCk0gPSAnXHgxYlsxOzkxbScgIyBNRVJBSCAgICAgICAgICAgIApIID0gJ1x4MWJbMTs5Mm0nICMgSElKQVUuICAgICAgICAgICAgICAKSyA9ICdceDFiWzE7OTNtJyAjIEtVTklORy4gICAgICAgICAgIApCID0gJ1x4MWJbMTs5NG0nICMgQklSVS4gICAgICAgICAgICAgICAgIApVID0gJ1x4MWJbMTs5NW0nICMgVU5HVS4gICAgICAgICAgICAgICAKTyA9ICdceDFiWzE7OTZtJyAjIEJJUlUgTVVEQS4gICAgIApOID0gJ1x4MWJbMG0nICAgICMgV0FSTkEgTUFUSSAgICAgCgojIyMgR0xPQkFMIE5BTUEgIyMjCklQID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2FwaS5pcGlmeS5vcmcnKS50ZXh0CmlkID0gW10KY3AgPSBbXQpvayA9IFtdCmxvb3AgPSAwCgojIyMgR0xPQkFMIFdBS1RVICMjIwpjdCA9IGRhdGV0aW1lLm5vdygpCm4gPSBjdC5tb250aApidWxhbm4gPSBbJ0phbnVhcmknLCdGZWJydWFyaScsJ01hcmV0JywnQXByaWwnLCdNZWknLCdKdW5pJywnSnVsaScsJ0FndXN0dXMnLCdTZXB0ZW1iZXInLCdPa3RvYmVyJywnTm9wZW1iZXInLCdEZXNlbWJlciddCnRyeToKICAgIGlmIG4gPCAwIG9yIG4gPiAxMjoKICAgICAgICBleGl0KCkKICAgIG5UZW1wID0gbiAtIDEKZXhjZXB0IFZhbHVlRXJyb3I6CiAgICBleGl0KCkKY3VycmVudCA9IGRhdGV0aW1lLm5vdygpCnRhID0gY3VycmVudC55ZWFyCmJ1ID0gY3VycmVudC5tb250aApoYSA9IGN1cnJlbnQuZGF5Cm9wID0gYnVsYW5uW25UZW1wXQpteV9kYXRlID0gZGF0ZS50b2RheSgpCmhyID0gY2FsZW5kYXIuZGF5X25hbWVbbXlfZGF0ZS53ZWVrZGF5KCldCnRhbmdnYWwgPSAoIiVzLSVzLSVzLSVzIiUoaHIsIGhhLCBvcCwgdGEpKQp0Z2wgPSAoIiVzICVzICVzIiUoaGEsIG9wLCB0YSkpCmJ1bGFuID0geyIwMSI6ICJKYW51YXJpIiwgIjAyIjogIkZlYnJ1YXJpIiwgIjAzIjogIk1hcmV0IiwgIjA0IjogIkFwcmlsIiwgIjA1IjogIk1laSIsICIwNiI6ICJKdW5pIiwgIjA3IjogIkp1bGkiLCAiMDgiOiAiQWd1c3R1cyIsICIwOSI6ICJTZXB0ZW1iZXIiLCAiMTAiOiAiT2t0b2JlciIsICIxMSI6ICJOb3ZlbWJlciIsICIxMiI6ICJEZXNlbWJlciJ9CgojIyMgREVGIFRBTUJBSEFOICMjIwpkZWYgamFsYW4oeik6Cglmb3IgZSBpbiB6ICsgIlxuIjoKCQlzeXMuc3Rkb3V0LndyaXRlKGUpCgkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJdGltZS5zbGVlcCgwLjAzKQogICAgICAgIAojIyMgQkFHSUFOIExPR08gMDEjIyMKZGVmIGxvZ28oKToKCW9zLnN5c3RlbSgiY2xlYXIiKQoJdGltZS5zbGVlcCAoMC4xKQoJcHJpbnQKCXByaW50CiAjIyMgQkFHSUFOIExPR08gIyMjCmRlZiBsb2dvKCk6Cglvcy5zeXN0ZW0oImNsZWFyIikKCXByaW50KCIiIiVzClx4MWJbMTs5MW3ilojilojigIEgIOKWiOKWiOKAgSDilojilojilojilojilojigIEg4paI4paI4paI4paI4paI4paI4oCBIOKWiOKWiOKWiOKAgSAgIOKWiOKWiOKWiOKAgSBceDFiWzE7OTJt4paI4paI4paI4paI4paI4oCBIApceDFiWzE7OTNt4paI4paI4oCBIOKWiOKWiOKAgeKAgeKWiOKWiOKAgeKAgeKAgeKWiOKWiOKAgeKWiOKWiOKAgeKAgeKAgeKWiOKWiOKAgeKWiOKWiOKWiOKWiOKAgSBceDFiWzE7OTJt4paI4paI4paI4paI4oCB4paI4paI4oCB4oCB4oCB4paI4paI4oCBClx4MWJbMTs5Nm3ilojilojilojilojilojigIHigIEgXHgxYlsxOzkybeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKAgeKWiOKWiOKWiOKWiOKWiOKWiOKAgeKAgeKWiOKWiOKAgeKWiOKWiOKWiOKWiOKAgeKWiOKWiOKAgeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKAgQpceDFiWzE7OTJt4paI4paI4oCB4oCB4paI4paI4oCBIOKWiOKWiOKAgeKAgeKAgeKWiOKWiOKAgeKWiOKWiOKAgeKAgeKAgeKWiOKWiOKAgeKWiOKWiOKAgeKAgeKWiOKWiOKAgeKAgeKWiOKWiOKAgeKWiOKWiOKAgeKAgeKAgeKWiOKWiOKAgQpceDFiWzE7OTZt4paI4paI4oCBICDilojilojigIHilojilojigIEgIOKWiOKWiOKAgeKWiOKWiOKAgSAg4paI4paI4oCB4paI4paI4oCBIOKAgeKAgeKAgSDilojilojigIHilojilojigIEgIOKWiOKWiOKAgQpceDFiWzE7OTZt4oCB4oCB4oCBICDigIHigIHigIHigIHigIHigIEgIOKAgeKAgeKAgeKAgeKAgeKAgSAg4oCB4oCB4oCB4oCB4oCB4oCBICAgICDigIHigIHigIHigIHigIHigIEgIOKAgeKAgeKAgQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiIiIlKE4pKSAgIAojIyMgQkFHSUFOIExPR0lOICMjIwpkZWYgdG9rZW56KCk6Cglvcy5zeXN0ZW0oJ2NsZWFyJykKCXRyeToKCQl0b2tlbiA9IG9wZW4oJ3Rva2VuLnR4dCcsICdyJykKCQltZW51KCkKCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgoJCW9zLnN5c3RlbSgnY2xlYXInKQoJCWxvZ28oKQoJCXByaW50KCIgJXNceDFiWzE7OTJtW1x4MWJbMTs5M20qLlx4MWJbMTs5Mm1dIFx4MWJbMTs5M21BdXRob3IgICAgIFx4MWJbMTs5M206IFx4MWJbMTs5M21LQVJNQSBEQVZJRCIlKE4pKQoJCXByaW50KCIgXHgxYlsxOzkybVtceDFiWzE7OTNtKi5ceDFiWzE7OTJtXSBceDFiWzE7OTNtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQlwcmludCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbSouXHgxYlsxOzkybV0gXHgxYlsxOzkzTmlnZXJpYSAgXHgxYlsxOzkzbTogJXMiJShOZykpCgkJcHJpbnQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20qLlx4MWJbMTs5Mm1dIFx4MWJbMTs5M21TdGF0dXMgICAgIFx4MWJbMTs5M206ICVzXHgxYlsxOzkybVByZW1pdW0gVXNlcnMlcyIlKEgsTikpCgkJcHJpbnQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20qLlx4MWJbMTs5Mm1dIFx4MWJbMTs5M20tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCXByaW50KCIgXHgxYlsxOzkybVtceDFiWzE7OTNtKi5ceDFiWzE7OTJtXSBceDFiWzE7OTNtSVAgICAgICAgICBceDFiWzE7OTNtOiAlcyIlKElQKSkKCQl0b2tlbiA9IHJhd19pbnB1dCgnXG4gXHgxYlsxOzkybVtceDFiWzE7OTNtP1x4MWJbMTs5Mm1dIFx4MWJbMTs5M21tYXN1a2FuIHRva2VuIFx4MWJbMTs5M206IFx4MWJbMTs5Mm0nKQoJCXRyeToKCQkJb3R3ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Jyt0b2tlbikKCQkJYSA9IGpzb24ubG9hZHMob3R3LnRleHQpCgkJCXplZGQgPSBvcGVuKCd0b2tlbi50eHQnLCAndycpCgkJCXplZGQud3JpdGUodG9rZW4pCgkJCXplZGQuY2xvc2UoKQoJCQlib3QoKQoJCQltZW51KCkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50KCIgJXNbIV0gdG9rZW4ga2FkYWx1d2Fyc2EhIiUoTSkpCgkJCXN5cy5leGl0KCkgCiAKIyMjIEJPVCBGT0xMT1cgREFOIEtPTUVOICMjIwpkZWYgYm90KCk6Cgl0cnk6CgkJdG9rZW4gPSBvcGVuKCd0b2tlbi50eHQnLCAncicpLnJlYWQoKQoJZXhjZXB0IChLZXlFcnJvciwgSU9FcnJvcik6CgkJZXhpdCgiICVzWyFdIHRva2VuIGthZGFsdXdhcnNhISIlKE0pKQoJcmVxdWVzdHMucG9zdCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vNTUzNTAzMjE4L3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0nICsgdG9rZW4pCgojIyMgQkFHSUFOIE1FTlUgIyMjCmRlZiBtZW51KCk6CiAgICBnbG9iYWwgdG9rZW4KICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgdHJ5OgogICAgICAgIHRva2VuID0gb3BlbigndG9rZW4udHh0JywgJ3InKS5yZWFkKCkKICAgICAgICBvdHcgPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lLz9hY2Nlc3NfdG9rZW49JyArIHRva2VuKQogICAgICAgIGEgPSBqc29uLmxvYWRzKG90dy50ZXh0KQogICAgICAgIG5hbWEgPSBhWyduYW1lJ10KICAgIGV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgogICAgICAgIG9zLnN5c3RlbSgnY2xlYXInKQogICAgICAgIHByaW50KCJcbiAlc1shXSB0b2tlbiBrYWRhbHV3YXJzYSEiJShNKSkKICAgICAgICBvcy5zeXN0ZW0oJ3JtIC1mIHRva2VuLnR4dCcpCiAgICAgICAgdG9rZW56KCkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICBleGl0KCIgJXNbIV0gYW5kYSB0aWRhayB0ZXJodWJ1bmcga2UgaW50ZXJuZXQhIiUoTSkpCgogICAgbG9nbygpCiAgICB0aW1lLnNsZWVwICgwLjAxKQogICAgcHJpbnQoIiAlc1x4MWJbMTs5Mm1ceDFiWzE7OTJtW1x4MWJbMTs5M23il4lceDFiWzE7OTJtXSBceDFiWzE7OTNtQXV0aG9yICAgIFx4MWJbMTs5N206IFx4MWJbMTs5Mm1LQVJNQSBYIERBVklEIiUoTikpCiAgICBwcmludCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbeKXiVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21HaXRodWIgICAgXHgxYlsxOzk3bTogXHgxYlsxOzkybWh0dHBzOi8vZ2l0aHViLmNvbS9rYXJtYS1raDNuIikKICAgIHByaW50KCIgXHgxYlsxOzkzbVtceDFiWzE7OTJt4peJXHgxYlsxOzkzbV1ceDFiWzE7OTJtIOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIpCiAgICBwcmludCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbeKXiVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21LYXJtYSBceDFiWzE7OTdtOlx4MWJbMTs5Mm0gJXMiJSh0Z2wpKQogICAgcHJpbnQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M23il4lceDFiWzE7OTJtXSBceDFiWzE7OTNtU3RhdHVzICAgIFx4MWJbMTs5N206XHgxYlsxOzkybSAlc3ByZW1pdW0lcyIlKEgsTikpCiAgICBwcmludCgiIFx4MWJbMTs5Mm1ceDFiWzE7OTNtW1x4MWJbMTs5Mm3il4lceDFiWzE7OTNtXVx4MWJbMTs5Mm0g4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQIikKICAgIHByaW50KCIgXHgxYlsxOzkybVtceDFiWzE7OTNtKlx4MWJbMTs5Mm1dIFx4MWJbMTs5M21JUCAgICAgICBceDFiWzE7OTdtIDpceDFiWzE7OTJtICVzIiUoSVApKQogICAgcHJpbnQoIiAgICAgICAgICAgICAgXG4gXHgxYlsxOzkzbVsgXHgxYlsxOzkybXNlbGFtYXQgXHgxYlsxOzkzbWRhdGFuZyBceDFiWzE7OTJtQm9za3UgXHgxYlsxOzkzbSVzJXMlcyBdXG4iJShLLG5hbWEsTikpCiAgICBwcmludCgiIFx4MWJbMTs5M20wMSBceDFiWzE7OTNtY3JhY2sgRnJvbVx4MWJbMTs5Mm0gUHVibGljL2ZyaWVuZHMgSWQiKQogICAgcHJpbnQoIiBceDFiWzE7OTNtMDIgXHgxYlsxOzkzbWNyYWNrIEZyb20gXHgxYlsxOzkybWlkIG1hc2FsL2JydXRhbCIpCiAgICBwcmludCgiIFx4MWJbMTs5M20wMyBceDFiWzE7OTNtY3JhY2sgRnJvbSBceDFiWzE7OTJtZm9sbG93ZXJzIikKICAgIHByaW50KCIgXHgxYlsxOzkzbTA0IFx4MWJbMTs5M21jcmFjayBGcm9tIFx4MWJbMTs5Mm1wb3N0L3Byb2ZpbGUiKQogICAgcHJpbnQoIiBceDFiWzE7OTNtMDUgXHgxYlsxOzkzbWNyYWNrIHJhbmRvbSBceDFiWzE7OTJtZmIgbmV3L2JhcnUiKQogICAgcHJpbnQoIiBceDFiWzE7OTNtMDYgXHgxYlsxOzkzbWNyYWNrIHJhbmRvbSBceDFiWzE7OTJtZmIgb2xkL2xhbWEiKQogICAgcHJpbnQoIiBceDFiWzE7OTNtMDcgXHgxYlsxOzkzbVNldHRpbmdzIFVzZXIgQWdlbnQgXHgxYlsxOzkybVVceDFiWzE7OTdtL1x4MWJbMTs5M21BIikKICAgIHByaW50KCIgXHgxYlsxOzkzbTA4IFx4MWJbMTs5M21pbmZvcm1hdGlvbSIpCiAgICBwcmludCgiICVzXHgxYlsxOzkxbTAwJXMgXHgxYlsxOzkxbWxvZ291dCIlKE0sTikpCiAgICBhc3cgPSByYXdfaW5wdXQoIlxuIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbT9ceDFiWzE7OTJtXVx4MWJbMTs5M20gcGlsaWggXHgxYlsxOzkybW1lbnVceDFiWzE7OTdtIOKVkFx4MWJbMTs5N20gIikKICAgIGlmIGFzdyA9PSAiIjoKICAgIAltZW51KCkKICAgIGVsaWYgYXN3ID09ICIxIjoKICAgIAlwdWJsaWsoKQogICAgCWF0dXJzYW5kaSgpCiAgICBlbGlmIGFzdyA9PSAiMiI6CiAgICAJbWFzc2FsKCkKICAgIAlhdHVyc2FuZGkoKQogICAgZWxpZiBhc3cgPT0gIjMiOgogICAgCWZvbGxvd2VycygpCiAgICAJYXR1cnNhbmRpKCkKICAgIGVsaWYgYXN3ID09ICI0IjoKICAgIAlwb3N0aW5nYW4oKQogICAgCWF0dXJzYW5kaSgpCiAgICBlbGlmIGFzdyA9PSAiNSI6CiAgICAJZmJiYXJ1KCkKICAgICAgICBzYW5kaW1hbnVhbCgpCiAgICBlbGlmIGFzdyA9PSAiNiI6CiAgICAJZmJ0dWEoKQogICAgICAgIHNhbmRpbWFudWFsKCkKICAgIGVsaWYgYXN3ID09ICI3IjoKICAgICAgICBzZXRpbmdfeW50a3RzKCkKICAgIGVsaWYgYXN3ID09ICI4IjoKICAgIAlpbmZvdGFtYmFoYW4oKQogICAgZWxpZiBhc3cgPT0gIjAiOgogICAgCW9zLnN5c3RlbSgncm0gLWYgdG9rZW4udHh0JykKICAgIAlqYWxhbigiIFvinJNdIGJlcmhhc2lsIG1lbmdoYXB1cyB0b2tlbiAiKQogICAgCWV4aXQoKQogICAgZWxzZToKICAgIAlqYWxhbigiIFx4MWJbMTs5MW1bXHgxYlsxOzk3bSFceDFiWzE7OTFtXVx4MWJbMTs5N20gcGlsaWggamF3YWJhbiBkZW5nYW4gYmVuZXIgISAiKQogICAgCW1lbnUoKSAKIyMjIElORk9STUFTSSBUQU1CQUhBTiAjIyMKZGVmIGluZm90YW1iYWhhbigpOgoJamFsYW4oIlxuIFx4MWJbMTs5M20wMVx4MWJbMTs5Mm0gXHgxYlsxOzkzbWNlayBvcHNpXHgxYlsxOzkybSBoYXNpbCBjcmFjayIpCglqYWxhbigiIFx4MWJbMTs5M20wMlx4MWJbMTs5Mm0gXHgxYlsxOzkzbWxpaGF0IGFrdW4gXHgxYlsxOzkybWhhc2lsIGNyYWNrIikKCWphbGFuKCIgXHgxYlsxOzkzbTAzXHgxYlsxOzkybSBsYXBvcmthbiBidWcgc2NyaXB0IikKCWphbGFuKCIgXHgxYlsxOzkzbTA0XHgxYlsxOzkybSBceDFiWzE7OTNta2VtYmFsaSBceDFiWzE7OTJta2UgbWVudSIpCglmYWxsID0gcmF3X2lucHV0KCJcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20/XHgxYlsxOzkybV0gXHgxYlsxOzkzbXBpbGloIFx4MWJbMTs5N206ICIpCglpZiBmYWxsID09ICIiOgoJCW1lbnUoKQoJZWxpZiBmYWxsID09ICIxIjoKCQljZWtvcHNpKCkKCWVsaWYgZmFsbCA9PSAiMiI6CgkJY2VraGFzaWwoKQoJZWxpZiBmYWxsID09ICIzIjoKCQlsYXBvcmJ1ZygpCgllbGlmIGZhbGwgPT0gIjQiOgoJCW1lbnUoKQoJZWxzZToKCQltZW51KCkKCQkKIyMjIERVTVAgUFVCTElLICMjIwpkZWYgcHVibGlrKCk6CglnbG9iYWwgdG9rZW4KCXRyeToKCQl0b2tlbiA9IG9wZW4oInRva2VuLnR4dCIsICJyIikucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCIgWyFdIHRva2VuIGthZGFsdXdhcnNhIikKCQl0aW1lLnNsZWVwICgwLjAxKQoJCXByaW50CglqYWxhbigiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbeKXiVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21pc2kgXHgxYlsxOzkybSdtZScgXHgxYlsxOzkzbWppa2EgaW5naW4gY3JhY2sgZGFyaSBkYWZ0YXIga2F3YW4iKQoJdGltZS5zbGVlcCAoMC4wMSkKCWlkdCA9IHJhd19pbnB1dCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbeKXiVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21tYXN1a2FuIGlkIFx4MWJbMTs5Mm10YXJnZXQgXHgxYlsxOzk3bTpceDFiWzE7OTJtICIpCgl0cnk6CgkJZm9yIGkgaW4gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcy9mcmllbmRzP2FjY2Vzc190b2tlbj0lcyIlKGlkdCwgdG9rZW4pKS5qc29uKClbImRhdGEiXToKCQkJaWQuYXBwZW5kKGlbImlkIl0rIjw9PiIraVsibmFtZSJdKQoJZXhjZXB0IEtleUVycm9yOgoJCWV4aXQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbWFrdW4gdGlkXHgxYlsxOzkybWFrIHRlcnNlZGlhIGF0YXUgXHgxYlsxOzkzbWxpc3QgIHRpZGFrIFx4MWJbMTs5Mm1wdWJsaWsgdG9sb2wiKQoJcHJpbnQoIlxuIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbStceDFiWzE7OTJtXSBceDFiWzE7OTNtdG90YWwgaWQgIFx4MWJbMTs5N206XHgxYlsxOzkybSAlcyVzJXMiJShNLGxlbihpZCksTikpIAogIAojIyMgRFVNUCBNQVNTQUwgIyMjCmRlZiBtYXNzYWwoKToKCWdsb2JhbCB0b2tlbgoJdHJ5OgoJCXRva2VuID0gb3BlbigidG9rZW4udHh0IiwgInIiKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCWV4aXQoIiBbIV0gdG9rZW4ga2FkYWx1d2Fyc2EiKQoJdHJ5OgoJCXRhbnlhX3RvdGFsID0gaW50KHJhd19pbnB1dCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbT9ceDFiWzE7OTJtXSBceDFiWzE7OTJtbWFzdWthbiBqdVx4MWJbMTs5M21tbGFoIHRhcmdldCA6ICIpKQoJZXhjZXB0OnRhbnlhX3RvdGFsPTEKCXByaW50KCIgXHgxYlsxOzkybVtceDFiWzE7OTNt4peJXHgxYlsxOzkybV0gXHgxYlsxOzkzbWlzaSBceDFiWzE7OTJtJ21lJyBceDFiWzE7OTNtamlrYSBpbmdpblx4MWJbMTs5Mm0gY3JhY2sgZGFyaSBceDFiWzE7OTNtZGFmdGFyIHRlbWFuIikKCWZvciB0IGluIHJhbmdlKHRhbnlhX3RvdGFsKToKCQl0ICs9MQoJCWlkdCA9IHJhd19pbnB1dCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbT9ceDFiWzE7OTJtXSBceDFiWzE7OTNtaWQgdGFyZ2V0ICVzIFx4MWJbMTs5N206XHgxYlsxOzkybSAiJSh0KSkKCQl0cnk6CgkJCWZvciBpIGluIHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXMvZnJpZW5kcz9hY2Nlc3NfdG9rZW49JXMiJShpZHQsIHRva2VuKSkuanNvbigpWyJkYXRhIl06CgkJCQl1aWQgPSBpWyJpZCJdCgkJCQluYW1hID0gaVsibmFtZSJdCgkJCQlpZC5hcHBlbmQodWlkKyI8PT4iK25hbWEpCgkJZXhjZXB0IEtleUVycm9yOgoJCQlwcmludCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbSFceDFiWzE7OTJtXSBceDFiWzE7OTNtYWt1biB0aWRhXHgxYlsxOzkybWsgdGVyc2VkaWEgYXRhXHgxYlsxOzkzbXUgbGlzdCB0aWRceDFiWzE7OTJtYWsgcHVibGlrIHRvbG9sIikKCXByaW50KCJcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gXHgxYlsxOzkzbXRvdGFsIGlkIFx4MWJbMTs5N20gOlx4MWJbMTs5Mm0gJXMlcyVzIiUoTSxsZW4oaWQpLE4pKQoJCiMjIyBEVU1QIEZPTExPV0VSUyAjIyMKZGVmIGZvbGxvd2VycygpOgoJZ2xvYmFsIHRva2VuCgl0cnk6CgkJdG9rZW4gPSBvcGVuKCJ0b2tlbi50eHQiLCAiciIpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgiIFshXSB0b2tlbiBrYWRhbHV3YXJzYSIpCglwcmludCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbeKXiVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21pc2kgXHgxYlsxOzkybSdtZSdceDFiWzE7OTNtIGppa2EgaW5naW4gY3JhY2sgZGFyaSBwZW5naWt1dCBzZW5kaXJpIikKCWlkdCA9IHJhd19pbnB1dCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbeKXiVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21tYXN1a2FuIGlkIFx4MWJbMTs5Mm1hdGF1IHVzZXJuYW1lXHgxYlsxOzk3bSA6XHgxYlsxOzkybSAiKQoJdHJ5OgoJCWZvciBpIGluIHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vJXMvc3Vic2NyaWJlcnM/bGltaXQ9NTAwMCZhY2Nlc3NfdG9rZW49JXMiJShpZHQsIHRva2VuKSkuanNvbigpWyJkYXRhIl06CgkJCXVpZCA9IGlbImlkIl0KCQkJbmFtYSA9IGlbIm5hbWUiXQoJCQlpZC5hcHBlbmQodWlkKyI8PT4iK25hbWEpCglleGNlcHQgS2V5RXJyb3I6CgkJZXhpdCgiIFshXSBha3VuIHRpZGFrIHRlcnNlZGlhIGF0YXUgbGlzdCB0ZW1hbiBwcml2YXRlIikKCXByaW50KCJcbiBbK10gdG90YWwgaWQgIDogJXMlcyVzIiUoTSxsZW4oaWQpLE4pKQoJCiMjIyBEVU1QIFBPU1RJTkdBTiAjIyMKZGVmIHBvc3RpbmdhbigpOgoJZ2xvYmFsIHRva2VuCgl0cnk6CgkJdG9rZW4gPSBvcGVuKCJ0b2tlbi50eHQiLCAiciIpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgiIFshXSB0b2tlbiBrYWRhbHV3YXJzYSIpCglpZHQgPSByYXdfaW5wdXQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20/XHgxYlsxOzkybV0gXHgxYlsxOzkzbW1hc3VrYW4gdXJsIGF0YVx4MWJbMTs5Mm11IGlkIHBvc3Rpbmdhblx4MWJbMTs5N20gOlx4MWJbMTs5Mm0gIikKCXRyeToKCQlmb3IgaSBpbiByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzL2xpa2VzP2xpbWl0PTUwMDAmYWNjZXNzX3Rva2VuPSVzIiUoaWR0LCB0b2tlbikpLmpzb24oKVsiZGF0YSJdOgoJCQl1aWQgPSBpWyJpZCJdCgkJCW5hbWEgPSBpWyJuYW1lIl0KCQkJaWQuYXBwZW5kKHVpZCsiPD0+IituYW1hKQoJZXhjZXB0IEtleUVycm9yOgoJCWV4aXQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbXBvc3RpbmdhbiB0aVx4MWJbMTs5Mm1kYWsgdGVyc2VkaWEgXHgxYlsxOzkzbWF0YXUgcG9zdCB0aWRhayBceDFiWzE7OTJtcHVibGlrIHRvbG9sIikKCXByaW50KCJcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gXHgxYlsxOzkzbXRvdGFsIGlkICBceDFiWzE7OTdtOlx4MWJbMTs5Mm0gJXMlcyVzIiUoTSxsZW4oaWQpLE4pKQoJCiMjIyBEVU1QIElEIFJBTkRPTSBORVcgIyMjCmRlZiBmYmJhcnUoKToKCXggPSAxMTExMTExMTExMQoJeHggPSA3Nzc3Nzc3Nzc3NwoJaWR4ID0gIjUwMDAiIAoJbGltaXQgPSBpbnQoaW5wdXQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gXHgxYlsxOzkzbW1hc3VrYW4gXHgxYlsxOzkybWp1bWxhaCBpZCBceDFiWzE7OTNtKGN0aCA1MDAwKTogIikpCgl0cnk6CgkJZm9yIG4gaW4gcmFuZ2UobGltaXQpOgoJCQlfID0gcmFuZG9tLnJhbmRpbnQoeCx4eCkKCQkJX18gPSBpZHgKCQkJaWQuYXBwZW5kKF9fKyI8PT4iK3N0cihfKSkKCWV4Y2VwdCBLZXlFcnJvcjoKCQlleGl0KCIgXHgxYlsxOzkybVtceDFiWzE7OTFtIVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21ha3VuIHRpZGFrIHRceDFiWzE7OTJtZXJzZWRpYSBhdGF1IGVycm9yIikKCXByaW50KCJcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gXHgxYlsxOzkzbXRvdGFsIGlkICBceDFiWzE7OTdtOlx4MWJbMTs5Mm0gJXMlcyVzIiUoTSxsZW4oaWQpLE4pKQoJCiMjIyBMQVBPUiBCVUcgU0NSSVBUICMjIwpkZWYgbGFwb3JidWcoKToKICAgIGFzdWxvID0gcmF3X2lucHV0KCdcbiBceDFiWzE7OTJtWz9dIG1hc3VrYW4gbGFwb3JhbiBidWcgc2NyaXB0IDogXHgxYlsxOzkybScpLnJlcGxhY2UoJyAnLCAnJTIwJykKICAgIGlmIGFzdWxvID09ICcnOgogICAgICAgIG1lbnUoKQogICAgb3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3dhLm1lLzYyODEyNzIxMDY2NzU/dGV4dD0nICsgYXN1bG8pCiAgICByYXdfaW5wdXQoJ1xuIFx4MWJbMTs5Mm1bKl0gXHgxYlsxOzkzbWtlbWJhbGkgJykKICAgIG1lbnUoKQojIyMgRFVNUCBJRCBSQU5ET00gRU1BSUwgIyMjCmRlZiBlbWFpbGZiKCk6Cgl4ID0gMTExCgl4eCA9IDk5OQoJaWR4ID0gIm5hbWUiIAoJbmFtYSA9IGlucHV0KCJceDFiWzE7OTJtIFtceDFiWzE7OTNtP1x4MWJbMTs5Mm1dIFx4MWJbMTs5M21tYXN1a2FuIG5hbWEgXHgxYlsxOzkybShjdGg6IGFuZ2dhKTogIikKCW5hbWEgPSBuYW1hLnJlcGxhY2UoIiAiLCAiIikKCWRvbWFpbiA9IGlucHV0KCIgXHgxYlsxOzkybVtceDFiWzE7OTNtP1x4MWJbMTs5Mm1dIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbUdceDFiWzE7OTJtXVx4MWJbMTs5M21tYWlsLmNvbSwgW1x4MWJbMTs5Mm1ZXHgxYlsxOzkzbV1ceDFiWzE7OTJtYWhvby5jb20sIFx4MWJbMTs5NW1bSF1vdG1haWwuY29tIDogIikKCWlmIGRvbWFpbiBpbiBbIiJdOk1haW4oKQoJZWxpZiBkb21haW4gaW4gWyJHIiwgImciXToKCQlpZHggPSAiQGdtYWlsLmNvbSIKCWVsaWYgZG9tYWluIGluIFsiWSIsICJ5Il06CgkJaWR4ID0gIkB5YWhvby5jb20iCgllbGlmIGRvbWFpbiBpbiBbIkgiLCAiaCJdOgoJCWlkeCA9ICJAaG90bWFpbC5jb20iCgllbHNlOk1haW4oKQoJbGltaXQgPSBpbnQoaW5wdXQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gXHgxYlsxOzkzbW1hc3VrYW4ganVtbGFoIGlkIFx4MWJbMTs5Mm0oY3RoIDUwMDApOiAiKSkKCXRyeToKCQlmb3IgbiBpbiByYW5nZShsaW1pdCk6CgkJCV8gPSByYW5kb20ucmFuZGludCh4LHh4KQoJCQlfXyA9IGlkeAoJCQlfX18gPSBuYW1hCgkJCXNlbGYuaWQuYXBwZW5kKF9fXysiPD0+IitzdHIoXykrX18pCglleGNlcHQgS2V5RXJyb3I6CgkJZXhpdCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkxbSFceDFiWzE7OTJtXSBceDFiWzE7OTNtYWt1biB0aWRhayB0ZXJzZVx4MWJbMTs5Mm1kaWEgYXRhdSBlcnJvciIpCglwcmludCgiXG4gXHgxYlsxOzkybVtceDFiWzE7OTFtK1x4MWJbMTs5Mm1dIFx4MWJbMTs5Mm10b3RhbCBpZFx4MWJbMTs5N20gIDpceDFiWzE7OTJtICVzJXMlcyIlKE0sbGVuKGlkKSxOKSkKCQojIyMgQ0VLIEhBU0lMIENSQUNLICMjIwpkZWYgY2VraGFzaWwoKToKCXRpbWUuc2xlZXAgKDAuMDEpCglwcmludCgnXG5ceDFiWzE7OTNtIFtceDFiWzE7OTJtMVx4MWJbMTs5M21dLiBceDFiWzE7OTJtbGloYXQgaGFzaWwgY3JhY2sgT0sgJykKCXByaW50KCdceDFiWzE7OTJtIFtceDFiWzE7OTNtMlx4MWJbMTs5Mm1dLiBceDFiWzE7OTNtbGloYXQgaGFzaWwgY3JhY2sgQ1AgJykKCWFuamcgPSByYXdfaW5wdXQoJ1xuIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbT9ceDFiWzE7OTJtXSBceDFiWzE7OTNtcGlsaWhceDFiWzE7OTdtIDpceDFiWzE7OTJtICcpCglpZiBhbmpnID09ICcnOgoJCW1lbnUoKQoJZWxpZiBhbmpnID09ICIxIjoKCQlkaXJzID0gb3MubGlzdGRpcigiT0siKQoJCXByaW50KCIiKQoJCWZvciBmaWxlIGluIGRpcnM6CgkJCXByaW50KCIgWypdICIrZmlsZSkKCQl0cnk6CgkJCWZpbGUgPSByYXdfaW5wdXQoIlxuIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbT9ceDFiWzE7OTJtXVx4MWJbMTs5M20gbWF1IGxpaGF0IGhhXHgxYlsxOzkybXNpbCB5YW5nIG1hbmEgXHgxYlsxOzkzbT9ceDFiWzE7OTdtOiAiKQoJCQlpZiBmaWxlID09ICIiOgoJCQkJbWVudSgpCgkJCXRvdGFsb2sgPSBvcGVuKCJPSy8lcyIlKGZpbGUpKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJZXhjZXB0IElPRXJyb3I6CgkJCWV4aXQoIiBbIV0gZmlsZSAlcyB0aWRhayB0ZXJzZWRpYSIlKGZpbGUpKQoJCW5tX2ZpbGUgPSAoIiVzIiUoZmlsZSkpLnJlcGxhY2UoIi0iLCAiICIpCgkJZGVsX3R4dCA9IG5tX2ZpbGUucmVwbGFjZSgiLnR4dCIsICIiKQoJCXByaW50KCJcbiBceDFiWzE7OTNtKlx4MWJbMTs5Mm0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHgxYlsxOzkzbSoiKQoJCXByaW50KCJceDFiWzE7OTJtIFtceDFiWzE7OTNtK1x4MWJbMTs5Mm1dIFx4MWJbMTs5M210YW5nZ2FsIFx4MWJbMTs5N206ICVzIC1ceDFiWzE7OTJtdG90YWwgXHgxYlsxOzk3bTogJXMiJShkZWxfdHh0LCBsZW4odG90YWxvaykpKQoJCW9zLnN5c3RlbSgiY2F0IE9LLyVzIiUoZmlsZSkpCgkJcmF3X2lucHV0KCJcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20qXHgxYlsxOzkybV0gXHgxYlsxOzkybWVudGVyIHVuXHgxYlsxOzk3bXR1ayBrZW1iYWxpIGtlIG1lbnUiKQoJCW1lbnUoKQoJZWxpZiBhbmpnID09ICIyIjoKCQlkaXJzID0gb3MubGlzdGRpcigiQ1AiKQoJCXByaW50KCIiKQoJCWZvciBmaWxlIGluIGRpcnM6CgkJCXByaW50KCIgWypdICIrZmlsZSkKCQl0cnk6CgkJCWZpbGUgPSByYXdfaW5wdXQoIlxuIFx4MWJbMTs5Mm1bXHgxYlsxOzkxbT9ceDFiWzE7OTJtXSBceDFiWzE7OTNtbWF1IGxpaGF0IFx4MWJbMTs5Mm1oYXNpbCB5YW5nIG1hbmEgXHgxYlsxOzkzbT9ceDFiWzE7OTdtOiAiKQoJCQlpZiBmaWxlID09ICIiOgoJCQkJbWVudSgpCgkJCXRvdGFsY3AgPSBvcGVuKCJDUC8lcyIlKGZpbGUpKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJZXhjZXB0IElPRXJyb3I6CgkJCWV4aXQoIiBbIV0gZmlsZSAlcyB0aWRhayB0ZXJzZWRpYSIlKGZpbGUpKQoJCW5tX2ZpbGUgPSAoIiVzIiUoZmlsZSkpLnJlcGxhY2UoIi0iLCAiICIpCgkJZGVsX3R4dCA9IG5tX2ZpbGUucmVwbGFjZSgiLnR4dCIsICIiKQoJCXByaW50KCJcbiBceDFiWzE7OTNtKlx4MWJbMTs5Mm0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHgxYlsxOzkzbSoiKQoJCXByaW50KCIgXHgxYlsxOzkybVtceDFiWzE7OTNtK1x4MWJbMTs5Mm1dIFx4MWJbMTs5M210YW5nZ2FsIFx4MWJbMTs5N206ICVzIC1ceDFiWzE7OTJtdG90YWwgXHgxYlsxOzk3bTogJXMiJShkZWxfdHh0LCBsZW4odG90YWxjcCkpKQoJCW9zLnN5c3RlbSgiY2F0IENQLyVzIiUoZmlsZSkpCgkJcmF3X2lucHV0KCJcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20qXHgxYlsxOzkybV0gXHgxYlsxOzkzbXRla2FuIGVudGVyIHVudHVceDFiWzE7OTdtayBrZW1iYWxpIGtlIG1lbnUgIikKCQltZW51KCkKCWVsc2U6CgkJbWVudSgpCgkKIyMjI0NFSyBPUFNJIEhBU0lMIENSQUNLIyMjIwpkZWYgY2Vrb3BzaSgpOgoJZGlycyA9IG9zLmxpc3RkaXIoIkNQIikKCXByaW50KCIiKQoJZm9yIGZpbGUgaW4gZGlyczoKCQlwcmludCgiIFvil4ldIENQLyIrZmlsZSkKCXByaW50KCJcbiBb4peJXSBtYXN1a2FuIGZpbGUgKGV4OiBDUC8lcy50eHQpIiUodGFuZ2dhbCkpCglmaWxlcyA9IHJhd19pbnB1dCgiIFs/XSBuYW1hIGZpbGUgIDogIikKCWlmIGZpbGVzID09ICIiOgoJCW1lbnUoKQoJdHJ5OgoJCWJ1a2FfYmFqdSA9IG9wZW4oZmlsZXMsICJyIikucmVhZGxpbmVzKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCWV4aXQoIlxuIFshXSBuYW1hIGZpbGUgJXMgdGlkYWsgdGVyc2VkaWEiJShmaWxlcykpCglwcmludCgnXG4gWyFdIGFuZGEgYmlzYSBtZW1hdGlrYW4gZGF0YSBzZWx1bGFyIHVudHVrIG1lbmplZGEgcHJvc2VzIGNla1xuJykKCWZvciBtZW1layBpbiBidWthX2JhanU6CgkJa29udG9sID0gbWVtZWsucmVwbGFjZSgiXG4iLCIiKQoJCXRpdGlkICA9IGtvbnRvbC5zcGxpdCgifCIpCgkJcHJpbnQoIlxuIFsrXSBjZWsgOiAlcyVzJXMiJShLLGtvbnRvbC5yZXBsYWNlKCIgICogLS0+ICIsIiIpLE4pKQoJCXRyeToKCQkJY2hlY2tfaW4odGl0aWRbMF0ucmVwbGFjZSgiICAqIC0tPiAiLCIiKSwgdGl0aWRbMV0pCgkJZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgoJCQlwYXNzCglwcmludCgiXG4gXHgxYlsxOzkybVtceDFiWzE7OTFtIVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21jZWsgYWt1biBceDFiWzE7OTJtc3VkYWggc2VsZXNhaS4uLiIpCglyYXdfaW5wdXQoIiBceDFiWzE7OTJtW1x4MWJbMTs5M20qXHgxYlsxOzkybV0gXHgxYlsxOzkzbWVudGVyIHVudHVrIGtceDFiWzE7OTJtZW1iYWxpIGtlIG1lbnUgIikKCXRpbWUuc2xlZXAoMSkKCW1lbnUoKQoJCmRlZiBjaGVja19pbih1c2VyLCBwYXN3KToKCW1iID0gKCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iKQoJdWEgPSByYW5kb20uY2hvaWNlKFsnTm9raWFDMy0wMC81LjAgKDA3LjIwKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArJwonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJwonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMS4yOyBOb2tpYV9YIEJ1aWxkL0paTzU0SykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzMwLjAuMTU5OS44MiBNb2JpbGUgU2FmYXJpLzUzNy4zNiBOb2tpYUJyb3dzZXIvMS4yLjAuMTEnCidub2tpYWMzLTAwLzUuMCAoMDcuMjApIHByb2ZpbGUvbWlkcC0yLjEgY29uZmlndXJhdGlvbi9jbGRjLTEuMSBtb3ppbGxhLzUuMCBhcHBsZXdlYmtpdC80MjArIChraHRtbCwgbGlrZSBnZWNrbykgc2FmYXJpLzQyMCsnCidNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTAuMC40NDMwLjkzIFNhZmFyaS81MzcuMzYnCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMjcuMC44Ny45MCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBOb2tpYUJyb3dzZXIvMS4wLGd6aXAoZ2ZlKScKJ05va2lhQzMtMDAvNS4wICgwNy4yMCkgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xIE1vemlsbGEvNS4wIEFwcGxlV2ViS2l0LzQyMCsgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYWZhcmkvNDIwKycKJ05va2lhWDItMDAvNS4wICgwOC4zNSkgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xIE1vemlsbGEvNS4wIChKYXZhOyBVOyBlbi11czsgbm9raWF4Mi0wMCknCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScKJ01vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMTsgZW4tVVMpIEFwcGxlV2ViS2l0LzUzMi4yIChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lUGx1cy80LjAuMjIyLjMgQ2hyb21lLzQuMC4yMjIuMyBTYWZhcmkvNTMyLjInCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4wOyBBU1VTX1owMEFEIEJ1aWxkL0xSWDIxVikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzM3LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2JwonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMS4xOyBOYXZvcmkgUUwgU3RpeCAzNTAwIEJ1aWxkL0xNWTQ5Rjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS82Ny4wLjMzOTYuODcgU2FmYXJpLzUzNy4zNicKCl0pCglzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCSMtPiBwZW1pc2FoCglzZXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjogIm1iYXNpYy5mYWNlYm9vay5jb20iLCJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsInVwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMiOiAiMSIsIm9yaWdpbiI6IG1iLCJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwidXNlci1hZ2VudCI6IHVhLCJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCxhcHBsaWNhdGlvbi9zaWduZWQtZXhjaGFuZ2U7dj1iMztxPTAuOSIsIngtcmVxdWVzdGVkLXdpdGgiOiAibWFyay52aWEuZ3AiLCJzZWMtZmV0Y2gtc2l0ZSI6ICJzYW1lLW9yaWdpbiIsInNlYy1mZXRjaC1tb2RlIjogIm5hdmlnYXRlIiwic2VjLWZldGNoLXVzZXIiOiAiPzEiLCJzZWMtZmV0Y2gtZGVzdCI6ICJkb2N1bWVudCIsInJlZmVyZXIiOiBtYisiL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsImFjY2VwdC1lbmNvZGluZyI6ICJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjogImlkLUlELGlkO3E9MC45LGVuLVVTO3E9MC44LGVuO3E9MC43In0pCglkYXRhID0ge30KCWdlZCA9IHBhcnNlcihzZXMuZ2V0KG1iKyIvbG9naW4vP25leHQmcmVmPWRibCZmbCZyZWZpZD04IiwgaGVhZGVycz17InVzZXItYWdlbnQiOnVhfSkudGV4dCwgImh0bWwucGFyc2VyIikKCWZtID0gZ2VkLmZpbmQoImZvcm0iLHsibWV0aG9kIjoicG9zdCJ9KQoJbGlzdCA9IFsibHNkIiwiamF6b2VzdCIsIm1fdHMiLCJsaSIsInRyeV9udW1iZXIiLCJ1bnJlY29nbml6ZWRfdHJpZXMiLCJsb2dpbiIsImJpX3hyd2giXQoJZm9yIGkgaW4gZm0uZmluZF9hbGwoInJhd19pbnB1dCIpOgoJCWlmIGkuZ2V0KCJuYW1lIikgaW4gbGlzdDoKCQkJZGF0YS51cGRhdGUoe2kuZ2V0KCJuYW1lIik6aS5nZXQoInZhbHVlIil9KQoJCWVsc2U6CgkJCWNvbnRpbnVlCglkYXRhLnVwZGF0ZSh7ImVtYWlsIjp1c2VyLCJwYXNzIjpwYXN3fSkKCXJ1biA9IHBhcnNlcihzZXMucG9zdChtYitmbS5nZXQoImFjdGlvbiIpLCBkYXRhPWRhdGEsIGFsbG93X3JlZGlyZWN0cz1UcnVlKS50ZXh0LCAiaHRtbC5wYXJzZXIiKQoJaWYgImNfdXNlciIgaW4gc2VzLmNvb2tpZXM6CgkJa3VraSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKS5yZXBsYWNlKCJub3NjcmlwdD0xOyIsICIiKQoJCXJ1biA9IHBhcnNlcihzZXMuZ2V0KCJodHRwczovL2ZyZWUuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLyIsIGNvb2tpZXM9eyJjb29raWUiOmt1a2l9KS50ZXh0LCAiaHRtbC5wYXJzZXIiKQoJCXhlID0gW3JlLmZpbmRhbGwoIlw8c3Bhbi4qP2hyZWY9XCIuKj9cIj4oLio/KTxcL2E+PFwvc3Bhbj4uKj9cPGRpdiBjbGFzcz1cIi4qP1wiPiguKj8pPFwvZGl2PiIsIHN0cih0ZCkpIGZvciB0ZCBpbiBydW4uZmluZF9hbGwoInRkIiwgeyJhcmlhLWhpZGRlbiI6ImZhbHNlIn0pXVsyOl0KCQlwcmludCgiIFsrXSBhcGxpa2FzaSB0ZXJodWJ1bmcgYWRhIDogIitzdHIobGVuKHhlKSkpCgkJbnVtID0gMAoJCWZvciBfIGluIHhlOgoJCQludW0gKz0gMQoJCQlwcmludCgiICAgIitzdHIobnVtKSsiICIrX1swXVswXSsiLCAiK19bMF1bMV0pCgllbGlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llczoKCQlmb3JtID0gcnVuLmZpbmQoImZvcm0iKQoJCWR0c2cgPSBmb3JtLmZpbmQoInJhd19pbnB1dCIseyJuYW1lIjoiZmJfZHRzZyJ9KVsidmFsdWUiXQoJCWp6c3QgPSBmb3JtLmZpbmQoInJhd19pbnB1dCIseyJuYW1lIjoiamF6b2VzdCJ9KVsidmFsdWUiXQoJCW5oICAgPSBmb3JtLmZpbmQoInJhd19pbnB1dCIseyJuYW1lIjoibmgifSlbInZhbHVlIl0KCQlkYXRhRCA9IHsiZmJfZHRzZyI6IGR0c2csImZiX2R0c2ciOiBkdHNnLCJqYXpvZXN0IjoganpzdCwiamF6b2VzdCI6IGp6c3QsImNoZWNrcG9pbnRfZGF0YSI6IiIsInN1Ym1pdFtDb250aW51ZV0iOiJMYW5qdXRrYW4iLCJuaCI6IG5ofQoJCXhueHggPSBwYXJzZXIoc2VzLnBvc3QobWIrZm9ybVsiYWN0aW9uIl0sIGRhdGE9ZGF0YUQpLnRleHQsICJodG1sLnBhcnNlciIpCgkJbmdldyA9IFt5eS50ZXh0IGZvciB5eSBpbiB4bnh4LmZpbmRfYWxsKCJvcHRpb24iKV0KCQlpZiAiTGloYXQgZGV0YWlsIGxvZ2luIHlhbmcgZGl0YW1waWxrYW4uIEluaSBBbmRhPyIgaW4gc3RyKHhueHgpOgoJCQlwcmludCgiXHIgIPCfjJ8gJXNUaW5nZ2FsIDEgbGFuZ2thaCBsYWdpIHVudHVrIG1lbWJ1a2EgYWt1biBmYWNlYm9vay4gc2lsYWhrYW4gYnVrYSBkaSBicm93c2VyJXMiJShILE4pKQoJCWVsc2U6CgkJCXByaW50KCIgWytdIHRlcmRhcGF0ICIrc3RyKGxlbihuZ2V3KSkrIiBvcHNpICIpCgkJCWZvciBvcHQgaW4gcmFuZ2UobGVuKG5nZXcpKToKCQkJCXByaW50KCIgIFsiK3N0cihvcHQrMSkrIl0gIituZ2V3W29wdF0pCgllbGlmICJsb2dpbl9lcnJvciIgaW4gc3RyKHJ1bik6CgkJb2ggPSBydW4uZmluZCgiZGl2Iix7ImlkIjoibG9naW5fZXJyb3IifSkuZmluZCgiZGl2IikudGV4dAoJCXByaW50KCIgWyFdICVzIiUob2gpKQoJZWxzZToKCQlwcmludCgiIFshXSBsb2dpbiBnYWdhbCwgc2lsYWhrYW4gY2VrIGtlbWJhbGkgaWQgZGFuIGthdGEgc2FuZGkiKQoKCiMjI0dBTlRJIFVTRVIgQUdFTlQjIyMKZGVmIHNldGluZ195bnRrdHMoKToKICAgIHByaW50ICdcbiAoJXMxJXMpIGdhbnRpIHVzZXIgYWdlbnQnJShPLE4pCiAgICBwcmludCAnICglczIlcykgY2hlY2sgdXNlciBhZ2VudCclKE8sTikKICAgIHl0Ymp0cyA9IHJhd19pbnB1dCgnXG4gJXNbJXM/JXNdIGNob29zZSA6ICclKE4sTyxOKSkKICAgIGlmIHl0Ymp0cyA9PSAnJzoKICAgICAgICBwcmludCAnXG4gJXNbJXPDlyVzXSBHYWsgYm9sZWgga29zb25nIEtlbnRvZCclKE4sTSxOKTt0aW1lLnNsZWVwKDIpO3NldGluZ195bnRrdHMoKQogICAgZWxpZiB5dGJqdHMgaW5bJzEnLCcwMSddOgogICAgICAgIHlvX25kYWtfdGF1X2tvX3RhbnlhX3NhaWEoKQogICAgZWxpZiB5dGJqdHMgaW5bJzInLCcwMiddOgogICAgICAgIHRyeToKICAgICAgICAgICAgdXNlcl9hZ2VudCA9IG9wZW4oJ1lOVEtUUy50eHQnLCAncicpLnJlYWQoKQogICAgICAgIGV4Y2VwdCBJT0Vycm9yOgogICAgICAgICAgICB1c2VyX2FnZW50ID0gJyVzLSclKE0pCiAgICAgICAgcHJpbnQgJ1xuICVzWyVzKyVzXSBVc2VyIEFnZW50IGFuZGEgOiAlcyVzJyUoTixPLE4sSCx1c2VyX2FnZW50KQogICAgICAgIHJhd19pbnB1dCgnXG4gICVzWyAlc2tlbWJhbGklcyBdJyUoTixPLE4pKTttb2NoX3lheWFuKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ1xuICVzWyVzw5clc10gaW5wdXQgeWFuZyBiZW5lciclKE4sTSxOKTt0aW1lLnNsZWVwKDIpO3NldGluZ195bnRrdHMoKQojIFVzZXIgQWdlbnQgYmFydQpkZWYgeW9fbmRha190YXVfa29fdGFueWFfc2FpYSgpOgogICAgb3Muc3lzdGVtKCdybSAtcmYgWU5US1RTLnR4dCcpCiAgICBfYXN1XyA9IHJhd19pbnB1dCgnXG4gWyVzPyVzXSBpbmdpbiBtZW5nZ3VuYWthbiB1c2VyIGFnZW50IGhwIGFuZGEgW1kvdF06ICclKE8sTikpCiAgICBpZiBfYXN1XyA9PSAnJzoKICAgICAgICBwcmludCAnXG4gJXNbJXPDlyVzXSBHYWsgYm9sZWgga29zb25nIEtlbnRvZCclKE4sTSxOKTt5b19uZGFrX3RhdV9rb190YW55YV9zYWlhKCkKICAgIGVsaWYgX2FzdV8gaW5bJ1knLCd5J106CiAgICAgICAgamFsYW4oJ1xuICVzIColcyBhbmRhIGFrYW4gZGkgYXJha2FuIGtlIHNpdHVzIHdlYiBzZXRlbGFoIGRpIGFyYWhrYW4ga2Ugc2l0dXMgd2ViLlxuICAlcyolcyBrbGlrIGlrb24gJXNNWSBVU0VSIEFHRU5UJXMgbGFsdSBjb3B5IHNlbXVhIHVzZXIgYWdlbnQgYW5kYS4uLiclKE8sTixPLE4sSCxOKSk7dGltZS5zbGVlcCgyKTtvcy5zeXN0ZW0oJ3hkZy1vcGVuIGh0dHBzOi8vd3d3LnlheWFueGQubXkuaWQvc2VydmVyJykKICAgICAgICBfYWdlbl8gPSByYXdfaW5wdXQoJyBbJXM/JXNdIG1hc3VrYW4gdXNlciBhZ2VudCBocCBhbmRhIDolcyAnJShPLE4sSCkpCiAgICAgICAgb3BlbignWU5US1RTLnR4dCcsICd3Jykud3JpdGUoX2FnZW5fKTt0aW1lLnNsZWVwKDIpCiAgICAgICAgamFsYW4oJ1xuICVzWyVz4pyTJXNdIGJlcmhhc2lsIG1lbmdndW5ha2FuIHVzZXIgYWdlbnQgaHAgYW5kYS4uLiclKE4sSCxOKSkKICAgICAgICByYXdfaW5wdXQoJ1xuICAlc1sgJXNrZW1iYWxpJXMgXSclKE4sTyxOKSk7bWVudSgpCiAgICBlbGlmIF9hc3VfIGluWydUJywndCddOgogICAgICAgIF9hZ2VuXyA9IHJhd19pbnB1dCgnIFslcz8lc10gbWFzdWthbiB1c2VyIGFnZW50IDolcyAnJShPLE4sSCkpCiAgICAgICAgb3BlbignWU5US1RTLnR4dCcsICd3Jykud3JpdGUoX2FnZW5fKTt0aW1lLnNsZWVwKDIpCiAgICAgICAgamFsYW4oJ1xuICVzWyVz4pyTJXNdIGJlcmhhc2lsIG1lbmdnYW50aSB1c2VyIGFnZW50Li4uJyUoTixILE4pKQogICAgICAgIHJhd19pbnB1dCgnXG4gICVzWyAlc2tlbWJhbGklcyBdJyUoTixPLE4pKTttZW51KCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQgJ1xuICVzWyVzISVzXSBZL3QgbmdlbnRvZCclKE4sTSxOKTt5b19uZGFrX3RhdV9rb190YW55YV9zYWlhKCkKCiMjIyBCQUdJQU4gU0FOREkgIyMjIwpkZWYgYXR1cnNhbmRpKCk6Cglhc2s9cmF3X2lucHV0KCIgXHgxYlsxOzkybVtceDFiWzE7OTNtP1x4MWJbMTs5Mm1dIFx4MWJbMTs5M21hcGFrYWggYW5kYSBpbmdpbiBtXHgxYlsxOzkybWVuZ2d1bmFrYW4gc2FuZGkgbWFudWFsXHgxYlsxOzk3bT8gXHgxYlsxOzkybVtceDFiWzE7OTNtWVx4MWJbMTs5N20vXHgxYlsxOzkybXRdXHgxYlsxOzk3bToiKQoJaWYgYXNrPT0ieSI6CgkJc2FuZGltYW51YWwoKQoJZWxpZiBhc2s9PSJ0IjoKCQlzYW5kaW90b21hdGlzKCkKCWVsc2U6CgkJZXhpdCgiICVzXHgxYlsxOzkybVtceDFiWzE7OTFtIVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21waWxpaCBqYXdhYmFuXHgxYlsxOzkybSBkZW5nYW4gYmVuYXIhIiUoTSkpCgpkZWYgc2FuZGltYW51YWwoKToKCXByaW50KCJcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbWd1bmFrYW4gXHgxYlsxOzkybSwgKGtvbWEpXHgxYlsxOzkzbSB1bnR1ayBwZW1pc2FoIGNvbnRvaCBceDFiWzE7OTdtOiBceDFiWzE7OTNtc2FuZGkxMjMsXHgxYlsxOzkybXNhbmRpMTIzNDUsXHgxYlsxOzk2bWRsbC4gXHgxYlsxOzkzbXNldGlhcCBrYXRhIG1pbmltYWwgXHgxYlsxOzkybTYgXHgxYlsxOzkzbWthcmFrdGVyIGF0YXUgbGViaWgiKQoJcHdlaz1yYXdfaW5wdXQoJ1xuIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbT9ceDFiWzE7OTJtXSBceDFiWzE7OTNtbWFzdWthbiBrYXRhIHNhbmRpXHgxYlsxOzk3bSA6XHgxYlsxOzkybSAnKQoJcHJpbnQoJ1x4MWJbMTs5Mm0gW1x4MWJbMTs5M20qXHgxYlsxOzkybV0gXHgxYlsxOzkzbWNyYWNrIGRlbmdhbiBzYW5kaVx4MWJbMTs5N20gLT4gWyAlcyVzJXMgXScgJSAoTSwgcHdlaywgTikpCglpZiBwd2VrPT0iIjoKCQlleGl0KCIgJXNceDFiWzE7OTJtW1x4MWJbMTs5MW0hXHgxYlsxOzkybV1ceDFiWzE7OTNtIGlzaSBqYXdhYmFuIGRlbmdhbiBiZW5hciEiJShNKSkKCWVsaWYgbGVuKHB3ZWspPD01OgoJCXRpbWUuc2xlZXAgKDAuMDEpCgkJZXhpdCgiICVzXHgxYlsxOzkybVtceDFiWzE7OTNtIVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21tYXN1a2FuIHNhbmRpIG1pbmltYWwgXHgxYlsxOzkybTZceDFiWzE7OTJtIGFuZ2thISIlKE0pKQoJcHJpbnQoIlxuIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbSBwaWxpaCBtZXRob2QgXHgxYlsxOzkybXZlcnNpb24gY3JhY2stIFx4MWJbMTs5M21zaWxhaGthbiBjb2JhIHNhdHXCslx4MWJbMTs5Mm0gXVxuIikKCXByaW50KCIgXHgxYlsxOzkybVtceDFiWzE7OTNtMVx4MWJbMTs5Mm1dLiBceDFiWzE7OTNtbWV0aG9kZCAgICBBUEkgXHgxYlsxOzkybShmYXN0KeKVkOKVlyIpCglwcmludCgiXHgxYlsxOzkybSBbXHgxYlsxOzkzbTJceDFiWzE7OTJtXS4gXHgxYlsxOzkzbW1ldGhvZGQgIG1iYXNpY1x4MWJbMTs5Mm0gKHNsb3cp4pWQ4pWQ4pWQ4pWQ4pWXIikKCXByaW50KCJceDFiWzE7OTJtIFtceDFiWzE7OTNtM1x4MWJbMTs5Mm1dLiBceDFiWzE7OTNtbWV0aG9kIG1vYmlsZVx4MWJbMTs5Mm0gKHN1cGVyIHNsb3cp4pWdIikKCWFzaz1yYXdfaW5wdXQoIlxuIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbT9ceDFiWzE7OTJtXSBceDFiWzE7OTNtbWV0aG9kXHgxYlsxOzk3bSA6ICIpCglwcmludAoJaWYgYXNrPT0iIjoKCQlleGl0KCIgJXNceDFiWzE7OTJtW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbWlzaSBqYXdhYmFuIGRlbmdhbiBiZW5hciEiJShNKSkKCWVsaWYgYXNrPT0iMSI6CgkJdGltZS5zbGVlcCAoMC4wMSkKCQlwcmludCgnXG4gXHgxYlsxOzkybVtceDFiWzE7OTNtK1x4MWJbMTs5Mm1dIGhhc2lsIE9LIGRpc2ltcGFuIGtlIC0+IE9LLyVzLnR4dCcgJSAodGFuZ2dhbCkpCgkJcHJpbnQoJ1x4MWJbMTs5M20gW1x4MWJbMTs5Mm0rXHgxYlsxOzkzbV0gaGFzaWwgQ1AgZGlzaW1wYW4ga2UgLT4gQ1AvJXMudHh0JyAlICh0YW5nZ2FsKSkKCQlwcmludCgnXG5ceDFiWzE7OTJtIFtceDFiWzE7OTNtIVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21hbmRhIGJpc2EgbWVtYXRpa2FuIFx4MWJbMTs5Mm1kYXRhIHNlbHVsYXIgdW50dWsgbWVualx4MWJbMTs5M21lZGEgcHJvc2VzIGNyYWNrXG4nKQoJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBmYWxsOgoJCQlmb3IgdXNlciBpbiBpZDoKCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQlmYWxsLnN1Ym1pdChhcGksIHVpZCwgcHdlay5zcGxpdCgiLCIpKQoJCWV4aXQoIlxuXG5ceDFiWzE7OTdtIFsjXSBjcmFjayBzZWxlc2FpLi4uIikKCWVsaWYgYXNrPT0iMiI6CgkJdGltZS5zbGVlcCAoMC4wMSkKCQlwcmludCgnXG4gXHgxYlsxOzkybVtceDFiWzE7OTNtK1x4MWJbMTs5Mm1dIGhhc2lsIE9LIGRpc2ltcGFuIGtlIC0+IE9LLyVzLnR4dCcgJSAodGFuZ2dhbCkpCgkJcHJpbnQoJ1x4MWJbMTs5M20gW1x4MWJbMTs5Mm0rXHgxYlsxOzkzbV0gaGFzaWwgQ1AgZGlzaW1wYW4ga2UgLT4gQ1AvJXMudHh0JyAlICh0YW5nZ2FsKSkKCQlwcmludCgnXG4gXHgxYlsxOzkybVtceDFiWzE7OTNtIVx4MWJbMTs5Mm1dIFx4MWJbMTs5M21hbmRhIGJpc2EgXHgxYlsxOzkybW1lbWF0aWthbiBkYXRhXHgxYlsxOzkzbSBzZWx1bGFyIHVudHVrIG1lbmplXHgxYlsxOzkybWRhIHByb3NlcyBjcmFja1xuJykKCQl3aXRoIFRocmVhZFBvb2xFeGVjdXRvcihtYXhfd29ya2Vycz0zMCkgYXMgZmFsbDoKCQkJZm9yIHVzZXIgaW4gaWQ6CgkJCQl1aWQsIG5hbWUgPSB1c2VyLnNwbGl0KCI8PT4iKQoJCQkJZmFsbC5zdWJtaXQobWZiYXNpYywgdWlkLCBwd2VrLnNwbGl0KCIsIiksImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIpCgkJZXhpdCgiXG5cblx4MWJbMTs5N20gWyNdIGNyYWNrIHNlbGVzYWkuLi4iKQoJZWxpZiBhc2s9PSIzIjoKCQl0aW1lLnNsZWVwICgwLjAxKQoJCXByaW50KCdcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gaGFzaWwgT0sgZGlzaW1wYW4ga2UgLT4gT0svJXMudHh0JyAlICh0YW5nZ2FsKSkKCQlwcmludCgnIFx4MWJbMTs5M21bXHgxYlsxOzkybStceDFiWzE7OTNtXSBoYXNpbCBDUCBkaXNpbXBhbiBrZSAtPiBDUC8lcy50eHQnICUgKHRhbmdnYWwpKQoJCXByaW50KCdcblx4MWJbMTs5Mm0gW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbWFuZGEgYmlzYSBceDFiWzE7OTJtbWVtYXRpa2FuIGRhdGEgc2VsdWxhciBceDFiWzE7OTNtdW50dWsgbWVuamVkYSBceDFiWzE7OTJtcHJvc2VzIGNyYWNrXG4nKQoJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBmYWxsOgoJCQlmb3IgdXNlciBpbiBpZDoKCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQlmYWxsLnN1Ym1pdChtZmJhc2ljLCB1aWQsIHB3ZWsuc3BsaXQoIiwiKSwiaHR0cHM6Ly9tLmZhY2Vib29rLmNvbSIpCgkJZXhpdCgiXG5cbiBceDFiWzE7OTdtWyNdIGNyYWNrIHNlbGVzYWkuLi4iKQoJCmRlZiBzYW5kaW90b21hdGlzKCk6Cgl0aW1lLnNsZWVwICgwLjAxKQoJcHJpbnQoIlxuIFx4MWJbMTs5Mm1bIFx4MWJbMTs5M21waWxpaCBtZXRob2QgXHgxYlsxOzkybXZlcnNpb24gY3JhY2sgLVx4MWJbMTs5M20gc2lsYWhrYW4gY29iYSBceDFiWzE7OTJtc2F0dcKyIF1cbiIpCglwcmludCgiIFx4MWJbMTs5Mm1bXHgxYlsxOzkzbTFceDFiWzE7OTJtXS4gXHgxYlsxOzkzbW1ldGhvZGQgICAgQVBJIFx4MWJbMTs5Mm0oZmFzdCnilZDilZciKQoJcHJpbnQoIlx4MWJbMTs5Mm0gW1x4MWJbMTs5M20yXHgxYlsxOzkybV0uIFx4MWJbMTs5M21tZXRob2RkICBtYmFzaWNceDFiWzE7OTJtIChzbG93KeKVkOKVkOKVkOKVkOKVlyIpCglwcmludCgiXHgxYlsxOzkybSBbXHgxYlsxOzkzbTNceDFiWzE7OTJtXS4gXHgxYlsxOzkzbW1ldGhvZCBtb2JpbGVceDFiWzE7OTJtIChzdXBlciBzbG93KeKVnSIpCglhc2s9cmF3X2lucHV0KCJcblx4MWJbMTs5Mm0gW1x4MWJbMTs5M20/XHgxYlsxOzkybV0gXHgxYlsxOzkzbW1ldGhvZCBceDFiWzE7OTdtOiAiKQoJaWYgYXNrPT0iIjoKCQlleGl0KCIgJXNbIV0gaXNpIGphd2FiYW4gZGVuZ2FuIGJlbmFyISIlKE0pKQoJZWxpZiBhc2s9PSIxIjoKCQl0aW1lLnNsZWVwICgwLjAxKQoJCXByaW50KCdcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gaGFzaWwgT0sgZGlzaW1wYW4ga2UgLT4gT0svJXMudHh0JyAlICh0YW5nZ2FsKSkKCQlwcmludCgnIFx4MWJbMTs5M21bXHgxYlsxOzkybStceDFiWzE7OTNtXSBoYXNpbCBDUCBkaXNpbXBhbiBrZSAtPiBDUC8lcy50eHQnICUgKHRhbmdnYWwpKQoJCXByaW50KCdcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbWFuZGEgYmlzYVx4MWJbMTs5Mm0gbWVtYXRpa2FuIGRhdGEgc2VsdWxhciBceDFiWzE7OTNtdW50dWsgbWVuamVkYVx4MWJbMTs5Mm0gcHJvc2VzIGNyYWNrXG4nKQoJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBmYWxsOgoJCQlmb3IgdXNlciBpbiBpZDoKCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQluYW0gPSBuYW1lLnNwbGl0KCcgJykKCQkJCWlmIGxlbihuYW1lKSA9PSAzIG9yIGxlbihuYW1lKSA9PSA0IG9yIGxlbihuYW1lKSA9PSA1IG9yIGxlbihuYW1lKSA9PSA2OgoJCQkJCXB3eCA9IFtuYW1lLCBuYW1bMF0rIjEyMyIsIG5hbVswXSsiMTIzNDUiLG5hbVswXSsiMTIzNCIsbmFtWzBdKyIxMjM0NTYiLCAic2F5YW5nIiwgImtvbnRvbCIsICJhbmppbmciXQoJCQkJZWxzZToKCQkJCQlwd3ggPSBbbmFtZSwgbmFtWzBdKyIxMjMiLCBuYW1bMF0rIjEyMzQ1IixuYW1bMF0rIjEyMzQiLG5hbVswXSsiMTIzNDU2IiwgInNheWFuZyIsICJrb250b2wiLCAiYW5qaW5nIl0KCQkJCWZhbGwuc3VibWl0KGFwaSwgdWlkLCBwd3gpCgkJZXhpdCgiXG5cblx4MWJbMTs5N20gWyNdIGNyYWNrIHNlbGVzYWkuLi4iKQoJZWxpZiBhc2s9PSIyIjoKCQl0aW1lLnNsZWVwICgwLjAxKQoJCXByaW50KCdcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gaGFzaWwgT0sgZGlzaW1wYW4ga2UgLT4gT0svJXMudHh0JyAlICh0YW5nZ2FsKSkKCQlwcmludCgnIFx4MWJbMTs5M21bXHgxYlsxOzkybStceDFiWzE7OTNtXSBoYXNpbCBDUCBkaXNpbXBhbiBrZSAtPiBDUC8lcy50eHQnICUgKHRhbmdnYWwpKQoJCXByaW50KCdcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbWFuZGEgYmlzYSBtZW1hdGlrYW4gXHgxYlsxOzkybWRhdGEgc2VsdWxhciBceDFiWzE7OTNtdW50dWsgbWVuamVkYSBceDFiWzE7OTJtcHJvc2VzIGNyYWNrXG4nKQoJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBmYWxsOgoJCQlmb3IgdXNlciBpbiBpZDoKCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQluYW0gPSBuYW1lLnNwbGl0KCcgJykKCQkJCWlmIGxlbihuYW1lKSA9PSAzIG9yIGxlbihuYW1lKSA9PSA0IG9yIGxlbihuYW1lKSA9PSA1IG9yIGxlbihuYW1lKSA9PSA2OgoJCQkJCXB3eCA9IFtuYW1lLCBuYW1bMF0rIjEyMyIsIG5hbVswXSsiMTIzNDUiLG5hbVswXSsiMTIzNCIsbmFtWzBdKyIxMjM0NTYiLCAic2F5YW5nIiwgImtvbnRvbCIsICJhbmppbmciXQoJCQkJZWxzZToKCQkJCQlwd3ggPSBbbmFtZSwgbmFtWzBdKyIxMjMiLCBuYW1bMF0rIjEyMzQ1IixuYW1bMF0rIjEyMzQiLG5hbVswXSsiMTIzNDU2IiwgInNheWFuZyIsICJrb250b2wiLCAiYW5qaW5nIl0KCQkJCWZhbGwuc3VibWl0KGFwaSwgdWlkLCBwd3gpCgkJZXhpdCgiXG5cbiBbI10gXHgxYlsxOzk3bWNyYWNrIHNlbGVzYWkuLi4iKQoJZWxpZiBhc2s9PSIzIjoKCQl0aW1lLnNsZWVwICgwLjAxKQoJCXByaW50KCdcblx4MWJbMTs5Mm0gW1x4MWJbMTs5M20rXHgxYlsxOzkybV0gaGFzaWwgT0sgZGlzaW1wYW4ga2UgLT4gT0svJXMudHh0JyAlICh0YW5nZ2FsKSkKCQlwcmludCgnIFx4MWJbMTs5M21bXHgxYlsxOzkybStceDFiWzE7OTNtXSBoYXNpbCBDUCBkaXNpbXBhbiBrZSAtPiBDUC8lcy50eHQnICUgKHRhbmdnYWwpKQoJCXByaW50KCdcbiBceDFiWzE7OTJtW1x4MWJbMTs5M20hXHgxYlsxOzkybV0gXHgxYlsxOzkzbWFuZGEgYmlzYSBceDFiWzE7OTJtbWVtYXRpa2FuIGRhdGEgXHgxYlsxOzkzbXNlbHVsYXIgdW50dWsgbWVceDFiWzE7OTJtbmplZGEgcHJvc2VzIGNyYWNrXG4nKQoJCXdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBmYWxsOgoJCQlmb3IgdXNlciBpbiBpZDoKCQkJCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCgkJCQluYW0gPSBuYW1lLnNwbGl0KCcgJykKCQkJCWlmIGxlbihuYW1lKSA9PSAzIG9yIGxlbihuYW1lKSA9PSA0IG9yIGxlbihuYW1lKSA9PSA1IG9yIGxlbihuYW1lKSA9PSA2OgoJCQkJCXB3eCA9IFtuYW1lLCBuYW1bMF0rIjEyMyIsIG5hbVswXSsiMTIzNDUiLG5hbVswXSsiMTIzNCIsbmFtWzBdKyIxMjM0NTYiLCAic2F5YW5nIiwgImtvbnRvbCIsICJhbmppbmciXQoJCQkJZWxzZToKCQkJCQlwd3ggPSBbbmFtZSwgbmFtWzBdKyIxMjMiLCBuYW1bMF0rIjEyMzQ1IixuYW1bMF0rIjEyMzQiLG5hbVswXSsiMTIzNDU2IiwgInNheWFuZyIsICJrb250b2wiLCAiYW5qaW5nIl0KCQkJCWZhbGwuc3VibWl0KGFwaSwgdWlkLCBwd3gpCgkJZXhpdCgiXG5cblx4MWJbMTs5N20gWyNdIGNyYWNrIHNlbGVzYWkuLi4iKQoJCQojIyMgQkFHSUFOIENSQUNLICMjIwpkZWYgYXBpKHVpZCwgcHd4KToKCWdsb2JhbCBvaywgY3AsIGxvb3AsIHRva2VuCglzeXMuc3Rkb3V0LndyaXRlKAoJCSJcciAlc1x4MWJbMTs5Mm1bXHgxYlsxOzkzbSpceDFiWzE7OTJtXSBceDFiWzE7OTNtW1x4MWJbMTs5Mm1jcmFja1x4MWJbMTs5M21dICVzLyVzXHgxYlsxOzkybSBPSzotJXMgLSBceDFiWzE7OTNtQ1A6LSVzICIlKE4sbG9vcCwgbGVuKGlkKSwgbGVuKG9rKSwgbGVuKGNwKSkKCSk7IHN5cy5zdGRvdXQuZmx1c2goKQoJZm9yIHB3IGluIHB3eDoKCQlwdyA9IHB3Lmxvd2VyKCkKCQl1YSA9IHJhbmRvbS5jaG9pY2UoWydOb2tpYUMzLTAwLzUuMCAoMDcuMjApIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCBBcHBsZVdlYktpdC80MjArIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQyMCsnCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9pZF9JRDtGQkFWLzIzOS4wLjAuMTAuMTA5O10nCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMzAuMC4xNTk5LjgyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjIuMC4xMScKJ25va2lhYzMtMDAvNS4wICgwNy4yMCkgcHJvZmlsZS9taWRwLTIuMSBjb25maWd1cmF0aW9uL2NsZGMtMS4xIG1vemlsbGEvNS4wIGFwcGxld2Via2l0LzQyMCsgKGtodG1sLCBsaWtlIGdlY2tvKSBzYWZhcmkvNDIwKycKJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS85MC4wLjQ0MzAuOTMgU2FmYXJpLzUzNy4zNicKJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWCBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8yNy4wLjg3LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjAsZ3ppcChnZmUpJwonTm9raWFDMy0wMC81LjAgKDA3LjIwKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArJwonTm9raWFYMi0wMC81LjAgKDA4LjM1KSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgKEphdmE7IFU7IGVuLXVzOyBub2tpYXgyLTAwKScKJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJwonTW96aWxsYS81LjAgKFdpbmRvd3M7IFU7IFdpbmRvd3MgTlQgNS4xOyBlbi1VUykgQXBwbGVXZWJLaXQvNTMyLjIgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWVQbHVzLzQuMC4yMjIuMyBDaHJvbWUvNC4wLjIyMi4zIFNhZmFyaS81MzIuMicKCl0pCgkJaGVhZGVycyA9ICh7CgkJCSdBdXRob3JpemF0aW9uJzogJ09BdXRoIDM1MDY4NTUzMTcyOCU3QzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKCQkJJ3gtZmItY29ubmVjdGlvbi1iYW5kd2lkdGgnOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAwMDAuMCwgMzAwMDAwMDAuMCkpLAoJCQkneC1mYi1zaW0taG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLAoJCQkneC1mYi1uZXQtaG5pJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLAoJCQkneC1mYi1jb25uZWN0aW9uLXF1YWxpdHknOiAnRVhDRUxMRU5UJywKCQkJJ3gtZmItY29ubmVjdGlvbi10eXBlJzogJ2NlbGwuQ1RSYWRpb0FjY2Vzc1RlY2hub2xvZ3lIU0RQQScsCgkJCSdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKCQkJJ3VzZXItYWdlbnQnOiB1YSwKCQkJJ3gtZmItaHR0cC1lbmdpbmUnOiAnTGlnZXInCgkJfSkKCQlwYXJhbXMgPSB7CgkJCSdmb3JtYXQnOiAnSlNPTicsCgkJCSdzZGtfdmVyc2lvbic6ICcyJywKCQkJJ2VtYWlsJzogc3RyKHVpZCksCgkJCSdsb2NhbGUnOiAnZW5fVVMnLAoJCQkncGFzc3dvcmQnOiBzdHIocHcpLAoJCQknc2RrJzogJ2lvcycsCgkJCSdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOiAnMScsCgkJCSdzaWcnOiAnM2Y1NTVmOTlmYjYxZmNkN2FhMGM0NGY1OGY1MjJlZjYnLAoJCX0KCQlzdGF0dXNfbWFzdWsgPSByZXF1ZXN0cy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luIixoZWFkZXJzPWhlYWRlcnMscGFyYW1zPXBhcmFtcykgCgkJZmlsZV9qYXNvbiA9IGpzb24ubG9hZHMoc3RhdHVzX21hc3VrLnRleHQpCgkJaWYgIkNhbGxzIHRvIHRoaXMgYXBpIGhhdmUgZXhjZWVkZWQgdGhlIHJhdGUgbGltaXQuICg2MTMpIiBpbiBmaWxlX2phc29uOgoJCQl0PTE1CgkJCXdoaWxlIHQ6CgkJCQltaW5zLCBzZWNzID0gZGl2bW9kKHQsIDYwKQoJCQkJc3lzLnN0ZG91dC53cml0ZSgiXHIgJXNbIV0gYWt0aWZrYW4gbW9kZSBqYW5kYSBzZWxhbWEgNSBkZXRpayVzIiUoTSxOKSkKCQkJCXN5cy5zdGRvdXQuZmx1c2goKQoJCQkJc2xlZXAoMS41KQoJCQkJdCAtPSAxCgkJZWxpZiAic2Vzc2lvbl9rZXkiIGluIHN0YXR1c19tYXN1ay50ZXh0IGFuZCAiRUFBQSIgaW4gc3RhdHVzX21hc3VrLnRleHQ6CgkJCXByaW50KCJcciAgJXMgPiAlc3wlc3wlcyIlKEgsdWlkLCBwdywgc2VuZC5qc29uKClbImFjY2Vzc190b2tlbiJdKSkKCQkJb2suYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQlvcGVuKCJPSy8lcy50eHQiJSh0YW5nZ2FsKSwiYSIpLndyaXRlKCIgICA+ICVzfCVzXG4iJSh1aWQsIHB3KSkKCQkJYnJlYWsKCQllbGlmICJVc2VyIG11c3QgdmVyaWZ5IHRoZWlyIGFjY291bnQgb24gd3d3LmZhY2Vib29rLmNvbSAoNDA1KSIgaW4gc3RhdHVzX21hc3VrLnRleHQ6CgkJCXRyeToKCQkJCXRva2VuPW9wZW4oInRva2VuLnR4dCIsInIiKS5yZWFkKCkKCQkJCXR0bCA9IHNlcy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2FjY2Vzc190b2tlbj0lcyIlKHVpZCwgdG9rZW4pKS5qc29uKClbImJpcnRoZGF5Il0KCQkJCW1vbnRoLCBkYXksIHllYXIgPSB0dGwuc3BsaXQoIi8iKQoJCQkJbW9udGggPSBidWxhblttb250aF0KCQkJCXByaW50KCJcciAgJXMgPiAlc3wlc3wlcyAlcyAlcyIlKEssdWlkLCBwdywgZGF5LCBtb250aCwgeWVhcikpCgkJCQljcC5hcHBlbmQoIiVzfCVzIiUodWlkLCBwdykpCgkJCQlvcGVuKCJDUC8lcy50eHQiJSh0YW5nZ2FsKSwiYSIpLndyaXRlKCIgICA+ICVzfCVzfCVzICVzICVzXG4iJSh1aWQsIHB3LCBkYXksIG1vbnRoLCB5ZWFyKSkKCQkJCWJyZWFrCgkJCWV4Y2VwdCAoS2V5RXJyb3IsIElPRXJyb3IpOgoJCQkJZGF5ID0gKCIgIikKCQkJCW1vbnRoID0gKCIgIikKCQkJCXllYXIgPSAoIiAiKQoJCQlleGNlcHQ6cGFzcwoJCQlwcmludCgiXHIgICVzID4gJXN8JXMgICAgICAgICAiJShLLHVpZCwgcHcpKQoJCQljcC5hcHBlbmQoIiVzfCVzIiUodWlkLCBwdykpCgkJCW9wZW4oIkNQLyVzLnR4dCIlKHRhbmdnYWwpLCJhIikud3JpdGUoIiAgID4gJXN8JXNcbiIlKHVpZCwgcHcpKQoJCQlicmVhawoJCWVsc2U6CgkJCWNvbnRpbnVlCgoJbG9vcCArPSAxCgkKZGVmIG1mYmFzaWModWlkLCBwd3gsdXJsLCoqZGF0YSk6CglnbG9iYWwgb2ssIGNwLCBsb29wLCB0b2tlbgoJc3lzLnN0ZG91dC53cml0ZSgKCQkiXHIgJXNceDFiWzE7OTJtW1x4MWJbMTs5M20qXHgxYlsxOzkybV0gXHgxYlsxOzkzbVtceDFiWzE7OTJtY3JhY2tceDFiWzE7OTNtXSAlcy8lc1x4MWJbMTs5Mm0gT0s6LSVzIC0gXHgxYlsxOzkzbUNQOi0lcyAiJShOLGxvb3AsIGxlbihpZCksIGxlbihvayksIGxlbihjcCkpCgkpOyBzeXMuc3Rkb3V0LmZsdXNoKCkKCWZvciBwdyBpbiBwd3g6CgkJcHcgPSBwdy5sb3dlcigpCgkJdWEgPSByYW5kb20uY2hvaWNlKFsnTm9raWFDMy0wMC81LjAgKDA3LjIwKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArJwonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdJwonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDQuMS4yOyBOb2tpYV9YIEJ1aWxkL0paTzU0SykgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzMwLjAuMTU5OS44MiBNb2JpbGUgU2FmYXJpLzUzNy4zNiBOb2tpYUJyb3dzZXIvMS4yLjAuMTEnCidub2tpYWMzLTAwLzUuMCAoMDcuMjApIHByb2ZpbGUvbWlkcC0yLjEgY29uZmlndXJhdGlvbi9jbGRjLTEuMSBtb3ppbGxhLzUuMCBhcHBsZXdlYmtpdC80MjArIChraHRtbCwgbGlrZSBnZWNrbykgc2FmYXJpLzQyMCsnCidNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvOTAuMC40NDMwLjkzIFNhZmFyaS81MzcuMzYnCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4xLjI7IE5va2lhX1ggQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMjcuMC44Ny45MCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBOb2tpYUJyb3dzZXIvMS4wLGd6aXAoZ2ZlKScKJ05va2lhQzMtMDAvNS4wICgwNy4yMCkgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xIE1vemlsbGEvNS4wIEFwcGxlV2ViS2l0LzQyMCsgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYWZhcmkvNDIwKycKJ05va2lhWDItMDAvNS4wICgwOC4zNSkgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xIE1vemlsbGEvNS4wIChKYXZhOyBVOyBlbi11czsgbm9raWF4Mi0wMCknCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XScKJ01vemlsbGEvNS4wIChXaW5kb3dzOyBVOyBXaW5kb3dzIE5UIDUuMTsgZW4tVVMpIEFwcGxlV2ViS2l0LzUzMi4yIChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lUGx1cy80LjAuMjIyLjMgQ2hyb21lLzQuMC4yMjIuMyBTYWZhcmkvNTMyLjInCidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4wOyBBU1VTX1owMEFEIEJ1aWxkL0xSWDIxVikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzM3LjAuMC4wIE1vYmlsZSBTYWZhcmkvNTM3LjM2JwoKXSkJCQoJCWdlPXMuZ2V0KHVybCsiL2xvZ2luLz9uZXh0JnJlZj1kYmwmcmVmaWQ9OCIpLnRleHQKCQlzb3A9cGFyc2VyKGdlLCJodG1sLnBhcnNlciIpCgkJZm9yIGkgaW4gc29wLmZpbmRfYWxsKCJyYXdfaW5wdXQiKToKCQkJaWYgaS5nZXQoIm5hbWUiKT09Tm9uZSBvciAiX2ZiX25vc2NyaXB0IiBpbiBpLmdldCgibmFtZSIpIG9yICJzaWduX3VwIiBpbiBpLmdldCgibmFtZSIpOmNvbnRpbnVlCgkJCWVsc2U6ZGF0YS51cGRhdGUoe2kuZ2V0KCJuYW1lIik6aS5nZXQoInZhbHVlIil9KQoJCWRhdGEudXBkYXRlKHsiZW1haWwiOnVpZCwicGFzcyI6cHd9KQoJCWxvZ19pbj11cmwrc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpLmdldCgiYWN0aW9uIikKCQlpZiAibS5mYWNlYm9vay5jb20iIGluIHVybDoKCQkJcy5oZWFkZXJzLnVwZGF0ZSh7Ikhvc3QiOnJlLmZpbmRhbGwoIi8vKC4rKSIsdXJsKVswXSwieC1mYi1sc2QiOmRhdGEuZ2V0KCJsc2QiKSwiY29udGVudC10eXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiwiYWNjZXB0IjoiKi8qIiwidXNlci1hZ2VudCI6dWEsInJlZmVyZXIiOnVybCsiL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsIm9yaWdpbiI6dXJsLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjoiaWQtSUQsZW4tVVM7cT0wLjkifSkKCQllbHNlOgoJCQlpZiAibWJhc2ljLmZhY2Vib29rLmNvbSIgaW4gdXJsOgoJCQkJaGVhPSJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44IgoJCQllbHNlOgoJCQkJaGVhPSJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45IgoJCXMuaGVhZGVycy51cGRhdGUoeyJIb3N0IjpyZS5maW5kYWxsKCIvLyguKykiLHVybClbMF0sInNlYy1mZXRjaC11c2VyIjoiPzEiLCJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjoiMSIsImNvbnRlbnQtdHlwZSI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsImNhY2hlLWNvbnRyb2wiOiJtYXgtYWdlPTAiLCJhY2NlcHQiOmhlYSwib3JpZ2luIjp1cmwsInVzZXItYWdlbnQiOnVhLCJyZWZlcmVyIjp1cmwrIi9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjoiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcifSkKCQlwbz1zLnBvc3QobG9nX2luLGRhdGE9ZGF0YSkKCQlpZiAiY191c2VyIiBpbiBzLmNvb2tpZXMuZ2V0X2RpY3QoKS5rZXlzKCk6CgkJCWt1a2lzID0gIjsiLmpvaW4oW2UrIj0iK3YgZm9yIGUsdiBpbiBzLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpXSkKCQkJcHJpbnQoIlxyICAlcyA+ICVzfCVzfCVzIiUoSCx1aWQsIHB3LCBrdWtpcykpCgkJCW9rLmFwcGVuZCgiJXN8JXMiJSh1aWQsIHB3KSkKCQkJb3BlbigiT0svJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICAgPiAlc3wlc1xuIiUodWlkLCBwdykpCgkJCWJyZWFrCgkJZWxpZiAiY2hlY2twb2ludCIgaW4gcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQl0cnk6CgkJCQl0b2tlbj1vcGVuKCJ0b2tlbi50eHQiLCJyIikucmVhZCgpCgkJCQl0dGwgPSBzZXMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcz9hY2Nlc3NfdG9rZW49JXMiJSh1aWQsIHRva2VuKSkuanNvbigpWyJiaXJ0aGRheSJdCgkJCQltb250aCwgZGF5LCB5ZWFyID0gdHRsLnNwbGl0KCIvIikKCQkJCW1vbnRoID0gYnVsYW5bbW9udGhdCgkJCQlwcmludCgiXHIgICVzID4gJXN8JXN8JXMgJXMgJXMiJShLLHVpZCwgcHcsIGRheSwgbW9udGgsIHllYXIpKQoJCQkJY3AuYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJb3BlbigiQ1AvJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICAgPiAlc3wlc3wlcyAlcyAlc1xuIiUodWlkLCBwdywgZGF5LCBtb250aCwgeWVhcikpCgkJCQlicmVhawoJCQlleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKCQkJCWRheSA9ICgiICIpCgkJCQltb250aCA9ICgiICIpCgkJCQl5ZWFyID0gKCIgIikKCQkJZXhjZXB0OnBhc3MKCQkJcHJpbnQoIlxyICAlcyA+ICVzfCVzICAgICAgICAgIiUoSyx1aWQsIHB3KSkKCQkJY3AuYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQlvcGVuKCJDUC8lcy50eHQiJSh0YW5nZ2FsKSwiYSIpLndyaXRlKCIgICA+ICVzfCVzXG4iJSh1aWQsIHB3KSkKCQkJYnJlYWsKCQllbHNlOgoJCQljb250aW51ZQoKCWxvb3AgKz0gMQoKZGVmIGJ1YXRmb2xkZXIoKToKCXRyeTpvcy5ta2RpcigiQ1AiKQoJZXhjZXB0OnBhc3MKCXRyeTpvcy5ta2RpcigiT0siKQoJZXhjZXB0OnBhc3MKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6Cglvcy5zeXN0ZW0oImdpdCBwdWxsIikKCWJ1YXRmb2xkZXIoKQoJbWVudSgpCg=="))